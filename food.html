<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Eats - Premium Delivery</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --bg-light: #fdfbf7;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --aurora-1: #ff9a9e; --aurora-2: #ff6b6b; --aurora-3: #fbc2eb;
            --accent-pop: #ff4757; --accent-gold: #ffaa00; --success: #2ed573;
            
            --glass-surface: rgba(255, 255, 255, 0.85); 
            --glass-border: rgba(255, 255, 255, 0.5);
            --glass-shine: rgba(255, 255, 255, 0.8);
            --glass-shadow: 0 15px 35px rgba(0,0,0,0.05); 
            
            --radius-xl: 32px; --radius-md: 20px; --radius-pill: 999px;
            --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        body.dark {
            --bg-light: #050505;
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --aurora-1: #4c1d95; --aurora-2: #be123c; --aurora-3: #a21caf;
            --glass-surface: rgba(20, 20, 20, 0.7);
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-shine: rgba(255, 255, 255, 0.1);
            --glass-shadow: 0 20px 40px 0 rgba(0, 0, 0, 0.5);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-light); color: var(--text-main); min-height: 100vh; overflow-x: hidden; transition: background 0.5s ease; }
        
        .grain-overlay { position: fixed; inset: 0; background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events: none; z-index: -1; mix-blend-mode: overlay; }
        .aurora-container { position: fixed; inset: 0; z-index: -2; overflow: hidden; }
        .blob { position: absolute; filter: blur(90px); opacity: 0.6; border-radius: 50%; animation: float 20s infinite alternate; }
        .b1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: var(--aurora-1); }
        .b2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: var(--aurora-2); animation-delay: -5s; }
        @keyframes float { 0% { transform: translate(0,0); } 100% { transform: translate(30px, -30px); } }

        
        .glass, .pay-opt, .combo-card, .sidebar-item, .order-card, .chef-card, .stat-box, .testimonial-card {
            background: var(--glass-surface);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-radius: var(--radius-xl);
            position: relative; 
            transition: transform 0.4s var(--ease-elastic), box-shadow 0.4s ease;
            box-shadow: var(--glass-shadow);
        }

       
        .glass, .combo-card, .food-card { overflow: hidden; }

        
        .testimonial-card { overflow: visible !important; }

     
        .glass::after, .pay-opt::after, .combo-card::after, .sidebar-item::after, .order-card::after, .chef-card::after, .stat-box::after {
            content: ''; position: absolute; top: 0; left: -150%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, var(--glass-shine), transparent);
            transform: skewX(-20deg); pointer-events: none; transition: 0s; opacity: 0.4;
        }
        .glass:hover::after, .pay-opt:hover::after, .combo-card:hover::after, .sidebar-item:hover::after, .order-card:hover::after, .chef-card:hover::after, .stat-box:hover::after {
            left: 150%; transition: 0.7s ease-in-out;
        }
        .glass:hover, .combo-card:hover, .order-card:hover, .chef-card:hover, .pay-opt:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.08); }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 10; }
        h1, h2, h3, h4 { font-family: 'Outfit', sans-serif; font-weight: 700; color: var(--text-main); }
        .text-muted { color: var(--text-muted); }
        
 
        .nav-sticky { position: sticky; top: 20px; z-index: 1000; margin-bottom: 40px; }
        .navbar { background: var(--glass-surface); backdrop-filter: blur(30px); border-radius: var(--radius-pill); padding: 8px 16px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--glass-border); box-shadow: var(--glass-shadow); }
        .brand { font-family: 'Outfit'; font-weight: 800; font-size: 1.4rem; display: flex; align-items: center; gap: 8px; cursor: pointer; color: var(--text-main); }
        .nav-links { display: flex; gap: 5px; background: rgba(125,125,125,0.05); padding: 5px; border-radius: var(--radius-pill); }
        .nav-item { padding: 10px 24px; border-radius: var(--radius-pill); cursor: pointer; font-weight: 600; font-size: 0.9rem; color: var(--text-muted); transition: 0.3s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .nav-item.active { background: var(--text-main); color: var(--bg-light); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .nav-item:hover:not(.active) { background: rgba(125,125,125,0.1); }
        .nav-icons { display: flex; gap: 10px; align-items: center; }
        .icon-btn { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; cursor: pointer; position: relative; transition: 0.2s; color: var(--text-main); }
        .icon-btn:hover { background: rgba(125,125,125,0.1); }
        .badge { position: absolute; top: -2px; right: -2px; background: var(--accent-pop); color: white; font-size: 0.7rem; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; border: 2px solid var(--bg-light); }
        .hamburger { display: none; }

   
        .mobile-popup-wrapper {
            position: absolute; top: 60px; right: 20px; width: 220px;
            z-index: 2000; pointer-events: none; opacity: 0;
            transform: scale(0.8) translateY(-20px); transform-origin: top right;
            transition: opacity 0.3s ease, transform 0.4s var(--ease-elastic);
        }
        .mobile-popup-wrapper.open { opacity: 1; transform: scale(1) translateY(0); pointer-events: auto; }
        .mobile-popup {
            background: var(--glass-surface); border: 1px solid var(--glass-border);
            backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px);
            border-radius: 24px; padding: 10px; box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            display: flex; flex-direction: column; gap: 5px;
        }
        .mobile-item {
            padding: 12px 20px; border-radius: 14px; color: var(--text-main); font-weight: 600;
            text-decoration: none; display: flex; align-items: center; gap: 10px; transition: 0.2s;
        }
        .mobile-item:hover { background: rgba(125,125,125,0.1); }
        .mobile-item.active { background: var(--text-main); color: var(--bg-light); }


        .btn { padding: 14px 28px; border-radius: var(--radius-pill); font-weight: 700; border: none; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; font-size: 0.95rem; transition: 0.2s; white-space: nowrap; }
        .btn:active { transform: scale(0.95); }
        .btn-primary { background: var(--text-main); color: var(--bg-light); }
        .btn-accent { background: var(--accent-pop); color: white; box-shadow: 0 10px 20px rgba(255, 71, 87, 0.25); }
        .btn-ghost { background: transparent; border: 1px solid var(--glass-border); color: var(--text-main); }
        .btn-ghost:hover { background: var(--glass-surface); }
        .input-field { width: 100%; padding: 16px; border-radius: 12px; border: 1px solid var(--glass-border); background: rgba(255,255,255,0.4); font-family: inherit; margin-top: 8px; transition: 0.2s; color: var(--text-main); }
        .input-field:focus { border-color: var(--accent-pop); box-shadow: 0 0 0 3px rgba(255, 71, 87, 0.1); background: var(--glass-surface); }
        .fetching { cursor: wait; opacity: 0.7; }
        .view-section { display: none; opacity: 0; transform: translateY(20px); transition: 0.5s var(--ease-elastic); padding-bottom: 80px; }
        .view-section.active { display: block; opacity: 1; transform: translateY(0); }
        .hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; min-height: 70vh; }
        .combo-scroll { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; margin-top: 20px; scrollbar-width: none; -ms-overflow-style: none; }
        .combo-scroll::-webkit-scrollbar { display: none; }
        
  
        .combo-card { min-width: 320px; height: 200px; padding: 0 !important; overflow: hidden !important; }
        .combo-content { position: absolute; bottom: 0; left: 0; width: 100%; padding: 25px; background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.6) 50%, transparent 100%); z-index: 2; }
        .combo-content h3, .combo-content p { color: white !important; margin: 0; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }

      
        .testimonial-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 60px; }
        .testimonial-card { 
            padding: 50px 30px 30px; position: relative; margin-top: 40px; 
            height: auto;
   
            overflow: visible !important; 
        }
        .testimonial-avatar { 
            width: 80px; height: 80px; border-radius: 50%; background-size: cover; 
            border: 4px solid var(--bg-light); 
            position: absolute; top: -40px; left: 30px; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.08); 
            z-index: 5;
        }
        .testimonial-quote-icon { position: absolute; top: 20px; right: 30px; opacity: 0.1; color: var(--text-main); }
        .stars { color: var(--accent-gold); letter-spacing: 2px; }


        .menu-filter-bar { display: flex; gap: 12px; margin-bottom: 30px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none; }
        .filter-btn { padding: 12px 28px; border-radius: var(--radius-pill); border: 1px solid var(--glass-border); background: rgba(255,255,255,0.3); cursor: pointer; font-weight: 600; white-space: nowrap; transition: 0.3s; color: var(--text-muted); }
        .filter-btn.active { background: var(--text-main); color: var(--bg-light); border-color: transparent; }
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
        
       
        .food-card { padding: 0 !important; display: flex; flex-direction: column; height: 100%; overflow: hidden !important; border-radius: var(--radius-xl); }
        .food-img { width: 100%; height: 200px; object-fit: cover; }
        .food-info { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        
        .auth-container { max-width: 550px; margin: 0 auto; padding: 50px; }
        .auth-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; text-align: left; }
        .phone-group { display: grid; grid-template-columns: 110px 1fr; gap: 10px; }
        .account-layout { display: grid; grid-template-columns: 300px 1fr; gap: 40px; }
        .sidebar-item { padding: 18px 24px; margin-bottom: 10px; border-radius: 16px; cursor: pointer; display: flex; align-items: center; gap: 12px; font-weight: 600; color: var(--text-muted); transition: 0.3s; }
        .sidebar-item:hover { background: rgba(125,125,125,0.05); }
        .sidebar-item.active { background: var(--text-main); color: var(--bg-light); box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .order-card { padding: 25px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .wallet-card { background: linear-gradient(135deg, #0f172a, #334155); color: white; padding: 35px; border-radius: 28px; height: 240px; display: flex; flex-direction: column; justify-content: space-between; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
        .checkout-layout { display: grid; grid-template-columns: 1.5fr 1fr; gap: 40px; }
        .checkout-panel { padding: 40px; }
        .payment-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; }
        .pay-opt { padding: 20px; text-align: center; font-weight: 600; cursor: pointer; font-size: 0.9rem; display: flex; flex-direction: column; align-items: center; gap: 8px; transition: 0.3s; color: var(--text-muted); }
        .pay-opt:hover { background: rgba(255,255,255,0.5); }
        .pay-opt.selected { background: var(--text-main); color: var(--bg-light); border-color: transparent; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .about-header { text-align: center; padding: 80px 0; }
        .about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; margin-top: 50px; }
        .about-card-padded { padding: 50px !important; }
        .story-text { font-size: 1.15rem; line-height: 1.8; color: var(--text-muted); }
        .chef-card { text-align: center; padding: 25px; }
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(10px); z-index: 2000; display: none; align-items: center; justify-content: center; }
        .modal-overlay.open { display: flex; }
        .modal-content { background: var(--glass-surface); padding: 40px; border-radius: 24px; width: 90%; max-width: 500px; animation: scaleIn 0.3s var(--ease-elastic); border: 1px solid var(--glass-border); }
        @keyframes scaleIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .toast-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 3000; }
        .toast { background: var(--glass-surface); backdrop-filter: blur(20px); padding: 16px 28px; border-radius: 50px; box-shadow: 0 15px 40px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 12px; font-weight: 600; animation: toastUp 0.5s var(--ease-elastic) forwards; border: 1px solid var(--glass-border); color: var(--text-main); }
        @keyframes toastUp { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .footer { background: var(--glass-surface); padding: 60px 0; border-top: 1px solid var(--glass-border); margin-top: 100px; text-align: center; }

        @media(max-width: 768px) { 
            .container { padding: 0 16px; }
            .hero-grid, .testimonial-grid, .about-grid, .checkout-layout { grid-template-columns: 1fr; gap: 30px; } 
            .nav-links { display: none; }
            .hamburger { display: flex !important; }
            .mobile-hidden { display: none !important; }
            .account-layout { grid-template-columns: 1fr; }
            .payment-grid { grid-template-columns: repeat(2, 1fr); }
            h1 { font-size: 2.5rem !important; }
            .combo-card { min-width: 85vw; }
            
    
            .glass { padding: 25px !important; }
            

            .food-card, .combo-card { 
                padding: 0 !important; 
                overflow: hidden !important; 
                border-radius: 24px;
            }
            .food-img { width: 100%; aspect-ratio: 16/9; height: auto; }
            
          
            .testimonial-card { overflow: visible !important; margin-top: 50px; }
            
            .about-card-padded { padding: 30px !important; }
            .modal-content { padding: 25px; width: 95%; }
        }
    </style>
</head>
<body>
<div class="grain-overlay"></div>
<div class="aurora-container"><div class="blob b1"></div><div class="blob b2"></div></div>
<div class="container nav-sticky">
    <nav class="navbar">
        <div class="brand" onclick="router('home')"><i data-lucide="chef-hat" style="color:var(--accent-pop)"></i> LUMINA</div>
        <div class="nav-links">
            <div class="nav-item active" onclick="router('home')">Home</div>
            <div class="nav-item" onclick="router('menu')">Menu</div>
            <div class="nav-item" onclick="router('about')">About</div>
        </div>
        <div class="nav-icons">
            <div class="icon-btn" id="theme-toggle" onclick="toggleTheme()"><i data-lucide="moon"></i></div>
            <div class="icon-btn mobile-hidden" onclick="router('account')"><i data-lucide="user"></i></div>
            <div class="icon-btn" onclick="router('cart')"><i data-lucide="shopping-bag"></i><span class="badge" id="cart-badge">0</span></div>
            <div class="icon-btn hamburger" onclick="toggleMobileMenu()"><i data-lucide="menu"></i></div>
        </div>
        <div class="mobile-popup-wrapper" id="mobile-popup">
            <div class="mobile-popup">
                <a href="#" class="mobile-item" onclick="mobileRouter('home')"><i data-lucide="home" size="18"></i> Home</a>
                <a href="#" class="mobile-item" onclick="mobileRouter('menu')"><i data-lucide="menu" size="18"></i> Menu</a>
                <a href="#" class="mobile-item" onclick="mobileRouter('about')"><i data-lucide="info" size="18"></i> About</a>
                <a href="#" class="mobile-item" onclick="mobileRouter('account')"><i data-lucide="user" size="18"></i> Account</a>
            </div>
        </div>
    </nav>
</div>
<main class="container">
    <section id="home" class="view-section active">
        <div class="hero-grid">
            <div>
                <div style="background: rgba(255,45,85,0.1); color: var(--accent-pop); display: inline-block; padding: 8px 20px; border-radius: 20px; font-weight: 700; font-size: 0.85rem; margin-bottom: 25px;">üöÄ LIQUID FAST DELIVERY</div>
                <h1 style="font-size: 4rem; line-height: 1.1; margin-bottom: 25px;">Taste the <span style="color: var(--accent-pop);">Extraordinary.</span></h1>
                <p class="text-muted" style="font-size: 1.2rem; margin-bottom: 40px; line-height: 1.6;">Order from top-tier chefs. Experience the smoothest delivery app ever built with real-time tracking.</p>
                <div style="display: flex; gap: 20px;">
                    <button class="btn btn-accent" onclick="router('menu')">Order Now <i data-lucide="arrow-right"></i></button>
                    <button class="btn btn-ghost" onclick="router('about')">Our Story</button>
                </div>
            </div>
            <div class="glass" style="padding: 0 !important; text-align: center; overflow: hidden !important;"><img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=600" style="width: 100%; height: 400px; object-fit: cover;"></div>
        </div>
        <div style="margin-top: 100px;">
            <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 20px;"><div><h2>Crazy Combos</h2><p class="text-muted">Best deals of the week</p></div><button class="btn btn-ghost" style="padding: 10px 20px; font-size: 0.85rem;" onclick="router('menu')">View All</button></div>
            <div class="combo-scroll">
                <div class="combo-card glass" onclick="router('menu')"><img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=500" style="width: 100%; height: 100%; object-fit: cover;"><div class="combo-content"><h3>Family Feast</h3><p>50% OFF</p></div></div>
                <div class="combo-card glass" onclick="router('menu')"><img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=500" style="width: 100%; height: 100%; object-fit: cover;"><div class="combo-content"><h3>Healthy Bowl</h3><p>Flat ‚Çπ150 OFF</p></div></div>
                <div class="combo-card glass" onclick="router('menu')"><img src="https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=500" style="width: 100%; height: 100%; object-fit: cover;"><div class="combo-content"><h3>Pizza Party</h3><p>Buy 1 Get 1</p></div></div>
            </div>
        </div>
        <div style="margin-top: 100px;">
            <h2 style="margin-bottom: 30px;">Trending Now</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
                <div class="glass food-card"><img src="https://images.unsplash.com/photo-1550547660-d9450f859349?w=600" class="food-img"><div class="food-info"><div style="display: flex; justify-content: space-between;"><h3>Truffle Burger</h3><span style="color: var(--accent-pop); font-weight: 800;">‚Çπ550</span></div><p class="text-muted" style="font-size: 0.9rem; margin-top: 5px;">Mushroom, Swiss Cheese.</p></div></div>
                <div class="glass food-card"><img src="https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=600" class="food-img"><div class="food-info"><div style="display: flex; justify-content: space-between;"><h3>Neapolitan</h3><span style="color: var(--accent-pop); font-weight: 800;">‚Çπ650</span></div><p class="text-muted" style="font-size: 0.9rem; margin-top: 5px;">Authentic Italian.</p></div></div>
                <div class="glass food-card"><img src="https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=600" class="food-img"><div class="food-info"><div style="display: flex; justify-content: space-between;"><h3>Creamy Pasta</h3><span style="color: var(--accent-pop); font-weight: 800;">‚Çπ450</span></div><p class="text-muted" style="font-size: 0.9rem; margin-top: 5px;">House special sauce.</p></div></div>
            </div>
        </div>
        <div style="margin-top: 120px;">
            <h2 style="margin-bottom: 40px; text-align: center;">What People Say</h2>
            <div class="testimonial-grid">
                <div class="testimonial-card glass">
                    <div class="testimonial-avatar" style="background-image: url('https://food.raunitx.online/images/man.png');"></div>
                    <i data-lucide="quote" class="testimonial-quote-icon" size="40"></i>
                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p style="font-style: italic; line-height: 1.6; font-size: 1.1rem; margin-top: 10px;">"The interface is so smooth I just come here to scroll. The food arrives hot and the wallet feature is seamless. Absolutely love the premium feel."</p>
                    <div style="margin-top: 20px;"><strong>Rahul K.</strong><br><span class="text-muted" style="font-size:0.8rem;">Food Blogger</span></div>
                </div>
                <div class="testimonial-card glass">
                    <div class="testimonial-avatar" style="background-image: url('https://food.raunitx.online/images/man.png');"></div>
                    <i data-lucide="quote" class="testimonial-quote-icon" size="40"></i>
                    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                    <p style="font-style: italic; line-height: 1.6; font-size: 1.1rem; margin-top: 10px;">"Finally an app that doesn't clutter my screen. Fast delivery, clean design, and the food quality is consistently top-tier."</p>
                    <div style="margin-top: 20px;"><strong>Sneha P.</strong><br><span class="text-muted" style="font-size:0.8rem;">Regular User</span></div>
                </div>
            </div>
        </div>
    </section>
    <section id="menu" class="view-section">
        <h1 style="font-size: 2.5rem; margin-bottom: 30px;">Explore Menu</h1>
        <div class="menu-filter-bar">
            <button class="filter-btn active" onclick="filterMenu('all', this)">All</button>
            <button class="filter-btn" onclick="filterMenu('burger', this)">üçî Burgers</button>
            <button class="filter-btn" onclick="filterMenu('pizza', this)">üçï Pizza</button>
            <button class="filter-btn" onclick="filterMenu('asian', this)">üçú Asian</button>
            <button class="filter-btn" onclick="filterMenu('healthy', this)">ü•ó Healthy</button>
            <button class="filter-btn" onclick="filterMenu('dessert', this)">üç∞ Desserts</button>
        </div>
        <div id="menu-grid" class="menu-grid"></div>
    </section>
    <section id="account" class="view-section">
        <div id="auth-view" class="auth-container glass">
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="width: 70px; height: 70px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center;"><i data-lucide="lock" size="32"></i></div>
                <h2 style="margin-bottom: 5px;" id="auth-title">Welcome Back</h2>
                <p class="text-muted" id="auth-desc">Login to access your wallet and orders.</p>
            </div>
            <div id="login-form"><input type="text" class="input-field" placeholder="Email / Phone Number"><input type="password" class="input-field" placeholder="Password"></div>
            <div id="register-form" style="display: none;">
                <div class="auth-grid"><input type="text" class="input-field" placeholder="First Name"><input type="text" class="input-field" placeholder="Last Name"></div>
                <div class="phone-group" style="margin-top: 8px;"><select class="input-field" id="country-code-auth"></select><input type="text" class="input-field" placeholder="Phone Number" style="margin-top: 8px;"></div>
                <input type="email" class="input-field" placeholder="Email Address">
                <div class="auth-grid"><select class="input-field"><option>Select State</option><option>Bihar</option><option>Delhi</option></select><select class="input-field"><option>Select City</option><option>Patna</option><option>Noida</option></select></div>
                <div class="auth-grid"><input type="password" class="input-field" placeholder="Password"><input type="password" class="input-field" placeholder="Confirm Password"></div>
            </div>
            <button class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 30px; height: 50px;" onclick="simulateLogin()" id="auth-submit-btn">Login</button>
            <p style="margin-top: 25px; font-size: 0.9rem; text-align: center;"><span id="auth-toggle-text">New here? </span><span style="color: var(--accent-pop); cursor: pointer; font-weight: 700;" onclick="toggleAuthMode()" id="auth-toggle-btn">Create Account</span></p>
        </div>
        <div id="dashboard-view" style="display: none;">
            <h1 style="font-size: 2.5rem; margin-bottom: 30px;">My Dashboard</h1>
            <div class="account-layout">
                <div class="glass" style="align-self: start; padding: 30px;">
                    <div style="text-align: center; margin-bottom: 40px; border-bottom: 1px solid var(--glass-border); padding-bottom: 30px;">
                        <div style="width: 90px; height: 90px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center;"><i data-lucide="user" size="40"></i></div>
                        <h3>Raunit Raj</h3>
                        <p class="text-muted">Gold Member</p>
                        <button class="btn btn-ghost" style="padding: 8px 16px; font-size: 0.75rem; margin-top: 15px;" onclick="simulateLogout()">Logout</button>
                    </div>
                    <div class="sidebar-item active" onclick="switchTab('orders', this)"><i data-lucide="package"></i> Orders</div>
                    <div class="sidebar-item" onclick="switchTab('wallet', this)"><i data-lucide="wallet"></i> Wallet</div>
                    <div class="sidebar-item" onclick="switchTab('address', this)"><i data-lucide="map-pin"></i> Addresses</div>
                </div>
                <div>
                    <div id="tab-orders" class="account-tab">
                        <h2 style="margin-bottom: 25px;">Order History</h2>
                        <div class="order-card glass">
                            <div style="display: flex; gap: 20px; align-items: center;"><div style="width: 60px; height: 60px; background: #fee2e2; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">üçî</div><div><h4>Burger King</h4><p class="text-muted" style="font-size: 0.9rem;">Yesterday ‚Ä¢ 2 Items</p></div></div>
                            <div style="text-align: right;"><div style="font-weight: 700; margin-bottom: 8px;">‚Çπ450</div><button class="btn btn-ghost" style="padding: 8px 16px; font-size: 0.8rem;">Reorder</button></div>
                        </div>
                    </div>
                    <div id="tab-wallet" class="account-tab" style="display: none;">
                        <h2 style="margin-bottom: 25px;">Lumina Wallet</h2>
                        <div class="wallet-card">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;"><i data-lucide="chef-hat" size="32" color="rgba(255,255,255,0.8)"></i><span style="opacity: 0.8; letter-spacing: 2px;">PREMIUM</span></div>
                            <div><div style="opacity: 0.8; font-size: 0.9rem; margin-bottom: 5px;">Available Balance</div><div style="font-size: 3.5rem; font-weight: 700;" id="wallet-balance">‚Çπ2,450</div></div>
                            <div style="display: flex; justify-content: space-between; align-items: flex-end;"><span style="font-family: monospace; letter-spacing: 2px;">**** 4021</span><button class="btn btn-ghost" style="background: rgba(255,255,255,0.2); border: none; color: white;" onclick="openModal('money')">+ Add Money</button></div>
                        </div>
                    </div>
                    <div id="tab-address" class="account-tab" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;"><h2>My Addresses</h2><button class="btn btn-primary" onclick="openModal('address')">+ Add New</button></div>
                        <div id="account-address-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="cart" class="view-section">
        <h1 style="font-size: 2.5rem; margin-bottom: 30px;">Checkout</h1>
        <div class="checkout-layout">
            <div class="glass checkout-panel">
                <h3 style="margin-bottom: 25px;">Delivery Address</h3>
                <div style="background: rgba(125,125,125,0.05); padding: 25px; border-radius: 20px; border: 1px solid var(--glass-border);">
                    <label style="font-size: 0.85rem; font-weight: 700; color: var(--text-muted); text-transform: uppercase;">Selected Address</label>
                    <div style="display: flex; gap: 15px; margin-top: 15px;">
                        <select class="input-field" id="addr-select" style="background: var(--bg-body); flex: 1;"></select>
                        <button class="btn btn-ghost" style="border-style: dashed;" onclick="openModal('address')">+ New</button>
                    </div>
                </div>
                <h3 style="margin: 40px 0 20px;">Payment Method</h3>
                <div class="payment-grid">
                    <div class="pay-opt selected" onclick="selectPay(this)"><i data-lucide="wallet"></i> Wallet</div>
                    <div class="pay-opt" onclick="selectPay(this)"><i data-lucide="smartphone"></i> UPI</div>
                    <div class="pay-opt" onclick="selectPay(this)"><i data-lucide="credit-card"></i> Card</div>
                    <div class="pay-opt" onclick="selectPay(this)"><i data-lucide="banknote"></i> COD</div>
                    <div class="pay-opt" onclick="selectPay(this)"><i data-lucide="landmark"></i> Bank</div>
                    <div class="pay-opt" onclick="selectPay(this)"><i data-lucide="gift"></i> Gift</div>
                </div>
            </div>
            <div class="glass checkout-panel" style="height: fit-content;">
                <h3 style="margin-bottom: 25px;">Order Summary</h3>
                <div id="cart-items" style="margin: 20px 0; min-height: 50px;"><p class="text-muted" style="text-align: center;">Your bag is empty.</p></div>
                <div style="border-top: 1px solid var(--glass-border); padding-top: 25px; display: flex; justify-content: space-between; font-weight: 800; font-size: 1.4rem;"><span>Total</span><span id="cart-total-display">‚Çπ0</span></div>
                <button class="btn btn-accent" style="width: 100%; margin-top: 30px; height: 55px; font-size: 1.1rem; justify-content: center;" onclick="placeOrder()">Place Order</button>
            </div>
        </div>
    </section>
    <section id="about" class="view-section">
        <div class="about-header glass">
            <h1 style="font-size: 3.5rem; margin-bottom: 15px;">About Lumina</h1>
            <p class="text-muted" style="font-size: 1.2rem; max-width: 700px; margin: 0 auto;">Bridging the gap between premium chefs and your dining table with liquid-smooth technology.</p>
        </div>
        <div class="about-grid">
            <div class="glass about-card-padded">
                <h3>Our Story</h3>
                <p class="story-text" style="margin-top: 20px;">This Lumina app is a culminating project designed for the IBM certification curriculum given by our esteemed faculty at the PW-IOI Noida campus. Conceptualized and built by the <strong>'Dark Knights'</strong> team, it represents a fusion of modern web technologies and user-centric design. The team focused on creating a 'Liquid' interface that feels alive.</p>
            </div>
            <div class="glass" style="text-align: center; display: flex; flex-direction: column; justify-content: center;">
                <h1 style="color: var(--accent-pop); font-size: 5rem; margin: 0;">100%</h1>
                <p class="text-muted" style="font-size: 1.2rem;">Student Built Project</p>
            </div>
        </div>
        <h2 style="margin-top: 80px; margin-bottom: 40px; text-align: center;">Meet the Dark Knights</h2>
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px;">
            <div class="chef-card"><div style="width: 100px; height: 100px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 15px; background-image: url('https://food.raunitx.online/images/1764247572367.jpeg'); background-size: cover;"></div><h4>Raunit Raj</h4><p class="text-muted">Developer</p></div>
            <div class="chef-card"><div style="width: 100px; height: 100px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 15px; background-image: url('https://food.raunitx.online/images/1766943347084.jpeg'); background-size: cover;"></div><h4>Pawan Verma</h4><p class="text-muted">Developer</p></div>
            <div class="chef-card"><div style="width: 100px; height: 100px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 15px; background-image: url('https://food.raunitx.online/images/1765978992487.jpeg'); background-size: cover;"></div><h4>Sahil Singh</h4><p class="text-muted">Developer</p></div>
            <div class="chef-card"><div style="width: 100px; height: 100px; background: rgba(125,125,125,0.1); border-radius: 50%; margin: 0 auto 15px; background-image: url('https://food.raunitx.online/images/1765797409125.jpeg'); background-size: cover;"></div><h4>Daksh Dahiya</h4><p class="text-muted">Developer</p></div>
        </div>
    </section>
    <section id="success" class="view-section" style="text-align: center; padding-top: 100px;">
        <div class="glass" style="display: inline-block; max-width: 500px;">
            <div style="width: 80px; height: 80px; background: #dcfce7; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;"><i data-lucide="check" size="40" color="#22c55e"></i></div>
            <h1>Order Confirmed!</h1>
            <p class="text-muted" style="margin: 15px 0 30px;">Thank you. Your order is being prepared.</p>
            <button class="btn btn-primary" onclick="router('home')">Back Home</button>
        </div>
    </section>
</main>
<div class="footer">
    <h2 style="margin-bottom: 20px;">LUMINA</h2>
    <div style="display: flex; gap: 30px; justify-content: center; margin-bottom: 30px;"><a href="#" style="text-decoration: none; color: var(--text-muted);">Privacy</a><a href="#" style="text-decoration: none; color: var(--text-muted);">Terms</a><a href="#" style="text-decoration: none; color: var(--text-muted);">Partner</a></div>
    <p class="text-muted" style="font-size: 0.9rem;">Designed by Raunit, Pawan, Sahil and Daksh.</p>
</div>
<div class="modal-overlay" id="generic-modal">
    <div class="modal-content">
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
            <h3 id="modal-title">Add Money</h3>
            <button onclick="closeModal()" style="border: none; background: none; cursor: pointer; color: var(--text-main);"><i data-lucide="x"></i></button>
        </div>
        <div id="modal-body"></div>
    </div>
</div>
<div class="toast-container" id="toast-box"></div>
<script>
    const menuDB = [{ id: 1, cat: 'burger', name: "Smash Burger", price: 450, img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=500" }, { id: 2, cat: 'burger', name: "Crispy Chicken", price: 350, img: "https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=500" }, { id: 3, cat: 'burger', name: "Mushroom Swiss", price: 550, img: "https://images.unsplash.com/photo-1550547660-d9450f859349?w=500" }, { id: 4, cat: 'burger', name: "Veggie Delight", price: 300, img: "https://images.unsplash.com/photo-1551782450-a2132b4ba21d?w=500" }, { id: 5, cat: 'burger', name: "BBQ Bacon", price: 600, img: "https://images.unsplash.com/photo-1596662951482-0c4ba74a6df6?w=500" }, { id: 6, cat: 'pizza', name: "Margherita", price: 400, img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=500" }, { id: 7, cat: 'pizza', name: "Pepperoni", price: 600, img: "https://images.unsplash.com/photo-1628840042765-356cda07504e?w=500" }, { id: 8, cat: 'pizza', name: "BBQ Chicken", price: 700, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=500" }, { id: 9, cat: 'pizza', name: "Veggie Supreme", price: 550, img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500" }, { id: 10, cat: 'asian', name: "Spicy Ramen", price: 550, img: "https://images.unsplash.com/photo-1583623025817-d180a2221d0a?w=500" }, { id: 11, cat: 'asian', name: "Sushi Platter", price: 850, img: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?w=500" }, { id: 12, cat: 'asian', name: "Thai Green Curry", price: 450, img: "https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?w=500" }, { id: 13, cat: 'asian', name: "Pad Thai", price: 450, img: "https://images.unsplash.com/photo-1559314809-0d155014e29e?w=500" }, { id: 14, cat: 'healthy', name: "Caesar Salad", price: 350, img: "https://images.unsplash.com/photo-1550304943-4f24f54ddde9?w=500" }, { id: 15, cat: 'healthy', name: "Greek Bowl", price: 400, img: "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=500" }, { id: 16, cat: 'healthy', name: "Quinoa Salad", price: 350, img: "https://images.unsplash.com/photo-1505576399279-565b52d4ac71?w=500" }, { id: 17, cat: 'dessert', name: "Lava Cake", price: 250, img: "https://images.unsplash.com/photo-1624353365286-3f8d62daad51?w=500" }, { id: 18, cat: 'dessert', name: "Cheesecake", price: 300, img: "https://images.unsplash.com/photo-1524351199678-941a58a3df50?w=500" }];
    const countries = [{ code: "+91", flag: "üáÆüá≥", name: "India" }, { code: "+1", flag: "üá∫üá∏", name: "USA" }, { code: "+44", flag: "üá¨üáß", name: "UK" }, { code: "+81", flag: "üáØüáµ", name: "Japan" }, { code: "+61", flag: "üá¶üá∫", name: "Australia" }, { code: "+86", flag: "üá®üá≥", name: "China" }, { code: "+33", flag: "üá´üá∑", name: "France" }, { code: "+49", flag: "üá©üá™", name: "Germany" }, { code: "+7", flag: "üá∑üá∫", name: "Russia" }, { code: "+971", flag: "üá¶üá™", name: "UAE" }, { code: "+966", flag: "üá∏üá¶", name: "Saudi Arabia" }, { code: "+1", flag: "üá®üá¶", name: "Canada" }, { code: "+55", flag: "üáßüá∑", name: "Brazil" }, { code: "+27", flag: "üáøüá¶", name: "South Africa" }, { code: "+82", flag: "üá∞üá∑", name: "South Korea" }, { code: "+39", flag: "üáÆüáπ", name: "Italy" }, { code: "+34", flag: "üá™üá∏", name: "Spain" }, { code: "+62", flag: "üáÆüá©", name: "Indonesia" }, { code: "+90", flag: "üáπüá∑", name: "Turkey" }, { code: "+52", flag: "üá≤üáΩ", name: "Mexico" }];
    let state = { user: null, cart: [], addresses: [], wallet: 2450 };
    let isRegister = false;
    window.onload = () => { renderMenu('all'); lucide.createIcons(); renderCountryOptions(); if(localStorage.getItem('theme') === 'dark') document.body.classList.add('dark'); };
    function toggleTheme() { document.body.classList.toggle('dark'); localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light'); }
    function toggleMobileMenu() { const menu = document.getElementById('mobile-popup'); menu.classList.toggle('open'); }
    function mobileRouter(pageId) { router(pageId); toggleMobileMenu(); }
    function router(pageId) { window.scrollTo(0,0); document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active')); document.getElementById(pageId).classList.add('active'); document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active')); if(pageId === 'home') document.querySelectorAll('.nav-item')[0].classList.add('active'); if(pageId === 'menu') document.querySelectorAll('.nav-item')[1].classList.add('active'); if(pageId === 'about') document.querySelectorAll('.nav-item')[2].classList.add('active'); if(pageId === 'cart') renderCart(); if(pageId === 'account') checkAuth(); }
    function checkAuth() { if(state.user) { document.getElementById('auth-view').style.display = 'none'; document.getElementById('dashboard-view').style.display = 'block'; updateAccountViews(); } else { document.getElementById('auth-view').style.display = 'block'; document.getElementById('dashboard-view').style.display = 'none'; } }
    function renderCountryOptions() { const select = document.getElementById('country-code-auth'); if(select) select.innerHTML = countries.map(c => `<option value="${c.code}">${c.flag} ${c.code}</option>`).join(''); }
    function toggleAuthMode() { isRegister = !isRegister; const title = document.getElementById('auth-title'); const desc = document.getElementById('auth-desc'); const toggleText = document.getElementById('auth-toggle-text'); const toggleBtn = document.getElementById('auth-toggle-btn'); const loginForm = document.getElementById('login-form'); const regForm = document.getElementById('register-form'); const submitBtn = document.getElementById('auth-submit-btn'); if(isRegister) { title.innerText = "Create Account"; desc.innerText = "Join Lumina today."; toggleText.innerText = "Already have an account? "; toggleBtn.innerText = "Login"; loginForm.style.display = 'none'; regForm.style.display = 'block'; submitBtn.innerText = "Create Account"; } else { title.innerText = "Welcome Back"; desc.innerText = "Login to access your wallet."; toggleText.innerText = "New here? "; toggleBtn.innerText = "Create Account"; loginForm.style.display = 'block'; regForm.style.display = 'none'; submitBtn.innerText = "Login"; } }
    function simulateLogin() { const btn = document.getElementById('auth-submit-btn'); btn.innerText = "Processing..."; setTimeout(() => { state.user = { name: "Raunit Raj" }; btn.innerText = isRegister ? "Create Account" : "Login"; showToast(isRegister ? "Account Created!" : "Welcome back!"); checkAuth(); }, 1000); }
    function simulateLogout() { state.user = null; state.addresses = []; showToast("Logged out"); checkAuth(); }
    function switchTab(id, btn) { document.querySelectorAll('.account-tab').forEach(e => e.style.display = 'none'); document.getElementById('tab-'+id).style.display = 'block'; document.querySelectorAll('.sidebar-item').forEach(b => b.classList.remove('active')); if(btn) btn.classList.add('active'); }
    function updateAccountViews() { document.getElementById('wallet-balance').innerText = `‚Çπ${state.wallet}`; const list = document.getElementById('account-address-list'); if(state.addresses.length === 0) { list.innerHTML = `<p class="text-muted" style="text-align:center; padding: 20px;">No addresses saved yet.</p>`; } else { list.innerHTML = state.addresses.map((addr, index) => `<div class="glass" style="padding: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"><div style="display: flex; gap: 15px; align-items: center;"><div style="background: rgba(125,125,125,0.1); padding: 10px; border-radius: 50%;"><i data-lucide="map-pin" size="20"></i></div><div><div style="font-weight: 700;">Address ${index + 1}</div><div class="text-muted" style="font-size: 0.9rem;">${addr.flat}, ${addr.area}, ${addr.city}, ${addr.state}</div></div></div><div style="display: flex; gap: 10px;"><button class="btn btn-ghost" style="padding: 8px; color: var(--accent-pop);" onclick="deleteAddress(${index})"><i data-lucide="trash" size="16"></i></button></div></div>`).join(''); lucide.createIcons(); } }
    function filterMenu(cat, btn) { if(btn) { document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); } renderMenu(cat); }
    function renderMenu(cat) { const grid = document.getElementById('menu-grid'); const items = cat === 'all' ? menuDB : menuDB.filter(i => i.cat === cat); grid.innerHTML = items.map(item => `<div class="glass food-card"><img src="${item.img}" class="food-img"><div class="food-info"><div style="display: flex; justify-content: space-between; margin-bottom: 5px;"><h3>${item.name}</h3><span style="color: var(--accent-pop); font-weight: 800;">‚Çπ${item.price}</span></div><p class="text-muted" style="font-size: 0.9rem; flex-grow: 1;">Delicious & fresh.</p><button class="btn btn-ghost" style="margin-top: 15px; width: 100%; justify-content: center;" onclick="addToCart(${item.id})">Add to Bag</button></div></div>`).join(''); }
    function addToCart(id) { const item = menuDB.find(i => i.id === id); state.cart.push(item); document.getElementById('cart-badge').innerText = state.cart.length; showToast(`${item.name} added!`); }
    function renderCart() { const list = document.getElementById('cart-items'); const totalEl = document.getElementById('cart-total-display'); const select = document.getElementById('addr-select'); if(state.user && state.addresses.length > 0) { select.innerHTML = state.addresses.map((a, i) => `<option value="${i}">${a.flat}, ${a.area}...</option>`).join(''); } else { select.innerHTML = `<option>No addresses found</option>`; } if(state.cart.length === 0) { list.innerHTML = `<p class="text-muted" style="text-align: center;">Cart is empty.</p>`; totalEl.innerText = "‚Çπ0"; return; } let total = 0; list.innerHTML = state.cart.map((item, index) => { total += item.price; return `<div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--glass-border);"><div style="display:flex; gap:10px; align-items:center;"><img src="${item.img}" style="width:40px; height:40px; border-radius:8px; object-fit:cover;"><div><div style="font-weight:700;">${item.name}</div><div class="text-muted">‚Çπ${item.price}</div></div></div><button style="border:none; background:none; color:#ff4757; cursor:pointer;" onclick="removeFromCart(${index})">‚úï</button></div>`; }).join(''); totalEl.innerText = "‚Çπ" + total; }
    function removeFromCart(index) { state.cart.splice(index, 1); renderCart(); document.getElementById('cart-badge').innerText = state.cart.length; }
    function openModal(type) { const modal = document.getElementById('generic-modal'); const body = document.getElementById('modal-body'); document.getElementById('modal-title').innerText = type === 'money' ? "Add Money" : "Add Address"; modal.classList.add('open'); if(type === 'money') { body.innerHTML = `<input type="number" id="money-input" class="input-field" placeholder="Enter Amount"><button class="btn btn-primary" style="width: 100%; margin-top: 20px; justify-content: center;" onclick="processAddMoney()">Add Money</button>`; } else if (type === 'address') { body.innerHTML = `<label class="text-muted" style="font-size:0.8rem; font-weight:700;">Pincode *</label><input type="text" id="addr-pincode" class="input-field" placeholder="Enter 6-digit Pincode" maxlength="6"><div style="display:grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top:10px;"><div><label class="text-muted" style="font-size:0.8rem; font-weight:700;">City *</label><input type="text" id="addr-city" class="input-field" readonly style="background:rgba(125,125,125,0.1);"></div><div><label class="text-muted" style="font-size:0.8rem; font-weight:700;">State *</label><input type="text" id="addr-state" class="input-field" readonly style="background:rgba(125,125,125,0.1);"></div></div><label class="text-muted" style="font-size:0.8rem; font-weight:700; margin-top:10px; display:block;">Flat / House No. *</label><input type="text" id="addr-flat" class="input-field"><label class="text-muted" style="font-size:0.8rem; font-weight:700; margin-top:10px; display:block;">Area / Street *</label><input type="text" id="addr-area" class="input-field"><label class="text-muted" style="font-size:0.8rem; font-weight:700; margin-top:10px; display:block;">Landmark *</label><input type="text" id="addr-landmark" class="input-field"><button class="btn btn-primary" style="width: 100%; margin-top: 20px; justify-content: center;" onclick="processAddAddress()">Save Address</button>`; document.getElementById('addr-pincode').addEventListener('keyup', function(e) { if(this.value.length === 6) fetchCityState(this.value); }); } }
    function closeModal() { document.getElementById('generic-modal').classList.remove('open'); }
    async function fetchCityState(pincode) { const cityInput = document.getElementById('addr-city'); const stateInput = document.getElementById('addr-state'); cityInput.classList.add('fetching'); try { const response = await fetch(`https://api.postalpincode.in/pincode/${pincode}`); const data = await response.json(); cityInput.classList.remove('fetching'); if (data && data[0].Status === "Success") { const details = data[0].PostOffice[0]; cityInput.value = details.District; stateInput.value = details.State; showToast("Location Verified!"); } else { showToast("Invalid Pincode. Enter manually.", "error"); cityInput.removeAttribute('readonly'); stateInput.removeAttribute('readonly'); cityInput.style.background = "var(--bg-body)"; stateInput.style.background = "var(--bg-body)"; } } catch (error) { cityInput.classList.remove('fetching'); showToast("Network Error. Enter manually.", "error"); cityInput.removeAttribute('readonly'); stateInput.removeAttribute('readonly'); cityInput.style.background = "var(--bg-body)"; stateInput.style.background = "var(--bg-body)"; } }
    function processAddMoney() { const amount = Number(document.getElementById('money-input').value); if(amount > 0) { state.wallet += amount; updateAccountViews(); closeModal(); showToast(`‚Çπ${amount} added successfully!`); } }
    function processAddAddress() { const flat = document.getElementById('addr-flat').value; const area = document.getElementById('addr-area').value; const landmark = document.getElementById('addr-landmark').value; const city = document.getElementById('addr-city').value; const stateVal = document.getElementById('addr-state').value; const pincode = document.getElementById('addr-pincode').value; if(!flat || !area || !landmark || !city || !stateVal || !pincode) { showToast("All fields are mandatory", "error"); return; } state.addresses.push({ flat, area, landmark, city, state: stateVal, pincode }); updateAccountViews(); renderCart(); closeModal(); showToast("Address saved!"); }
    function deleteAddress(index) { state.addresses.splice(index, 1); updateAccountViews(); renderCart(); showToast("Address deleted"); }
    function selectPay(el) { document.querySelectorAll('.pay-opt').forEach(b => b.classList.remove('selected')); el.classList.add('selected'); }
    function placeOrder() { if(state.cart.length === 0) return showToast("Cart is empty", "error"); if(!state.user) { showToast("Please Login First", "error"); router('account'); return; } if(state.addresses.length === 0) { showToast("Please Add Address", "error"); return; } const btn = event.target; btn.innerText = "Processing..."; setTimeout(() => { state.cart = []; document.getElementById('cart-badge').innerText = 0; router('success'); btn.innerText = "Place Order"; }, 1500); }
    function showToast(msg, type='success') { const box = document.getElementById('toast-box'); const toast = document.createElement('div'); toast.className = 'toast'; const color = type === 'error' ? '#ff4757' : '#2ed573'; toast.innerHTML = `<i data-lucide="check-circle" style="color:${color}"></i> ${msg}`; box.appendChild(toast); lucide.createIcons(); setTimeout(() => toast.remove(), 3000); }
</script>
</body>
</html>